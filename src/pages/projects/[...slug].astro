---
import Base from '@/layouts/Base.astro';
import { type CollectionEntry, getCollection } from 'astro:content';
import BlogPost from '../../layouts/BlogPost.astro';
import { render } from 'astro:content';
import FormattedDate from '@/components/FormattedDate.astro';

export async function getStaticPaths() {
  const posts = await getCollection('project');
  return posts.map((post) => ({
    params: { slug: post.id },
    props: post,
  }));
}
type Props = CollectionEntry<'project'>;

const post = Astro.props;
const { Content } = await render(post);
const { title, description, pubDate, updatedDate, heroImage } = post.data;
---

<!-- <div class="hero-image">
      {heroImage && <img width={1020} height={510} src={heroImage} alt="" />}
    </div> -->
<Base>
  <article class="mx-auto max-w-3xl pt-12 px-4">
    <div class="prose prose-lg dark:prose-invert">
      <header class="mb-6">
        <div
          class="text-sm text-accent font-semibold flex flex-col sm:flex-row sm:items-center sm:gap-4"
        >
          <FormattedDate
            date={pubDate}
            class:list={['text-muted-foreground', 'font-medium']}
          />
          {
            updatedDate && (
              <div class="text-sm sm:text-base text-muted-foreground">
                Last updated on <FormattedDate date={updatedDate} />
              </div>
            )
          }
        </div>
        <h1 class="mt-2 text-4xl font-bold text-gradient">
          {title}
        </h1>
        <div
          class="mt-4 h-1 w-full bg-gradient-to-r from-primary via-card to-transparent rounded-sm"
        >
        </div>
      </header>
      <section>
        <Content />
      </section>
    </div>
  </article>
</Base>
